<div class="container">
    <h2>Mission Discoveries</h2>
    
    <div class="mission-select">
      <label for="missionSelect">Select a Mission:</label>
      <select 
        id="missionSelect"
        [(ngModel)]="selectedMissionId"
        (ngModelChange)="onMissionSelect()"
        class="form-control">
        <option value="">Choose a mission...</option>
        @for (mission of missions; track mission.id) {
          <option [value]="mission.id">{{ mission.name }}</option>
        }
      </select>
    </div>
  
    @if (isLoading) {
      <div class="loading">Loading discoveries...</div>
    }
  
    @if (errorMessage) {
      <div class="error-message">{{ errorMessage }}</div>
    }
  
    @if (discoveries.length > 0) {
      <div class="discoveries-list">
        @for (discovery of discoveries; track discovery.id) {
          <div class="discovery-card">
            <h3>{{ discovery.name }}</h3>
            <p class="location">{{ discovery.location }}</p>
            <p class="description">{{ discovery.description }}</p>
          </div>
          <div class="discovery-actions">
            <button 
              (click)="onUpdateDiscovery(discovery)"
              class="update-button"
            >
              Update
            </button>
            <!-- Add any other action buttons here -->
          </div>
        }
      </div>
    } @else if (selectedMissionId && !isLoading) {
      <div class="no-discoveries">
        No discoveries found for this mission.
      </div>
    }
  </div>